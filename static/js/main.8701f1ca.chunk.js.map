{"version":3,"sources":["reducers/stopSearchReducer.js","providers/stopSearchProvider.js","services/client.js","services/linesDiscovery.js","services/estimatedTimetable.js","pages/StopSearch/VehicleModeFilter.js","pages/StopSearch/LineSelection.js","pages/StopSearch/StopSelection.js","pages/StopSearch/DateSelection.js","pages/StopSearch/SearchButton.js","pages/StopSearch/Timer.js","pages/StopSearch/Results.js","pages/StopSearch/Loading.js","services/stopMonitoring.js","pages/StopSearch/Form.js","themes/ctsTheme.js","pages/StopSearch.js","App.js","serviceWorker.js","index.js"],"names":["loading","stopSearchReducer","state","action","type","lines","data","LinesDelivery","AnnotatedLineRef","map","line","LineRef","LineName","RouteType","Extension","stops","length","Object","objectSpread","stopsIds","ServiceDelivery","EstimatedTimetableDelivery","Etd","EstimatedJourneyVersionFrame","Ejvf","EstimatedVehicleJourney","Evj","DirectionRef","VehicleMode","EstimatedCalls","Ec","StopPointRef","push","StopPointName","DestinationName","mode","checked","stop","date","results","StopMonitoringDelivery","MonitoredStopVisit","visit","journey","MonitoredVehicleJourney","call","MonitoredCall","IsRealTime","ExpectedArrivalTime","ExpectedDepartureTime","maxStopArrivals","undefined","match","params","bus","JSON","parse","tram","load","Error","StopSearchContext","createContext","StopSearchProvider","_ref","children","initialState","_useReducer","useReducer","_useReducer2","slicedToArray","context","dispatch","react_default","a","createElement","Provider","value","api","axios","create","baseURL","client","route","get","auth","username","then","res","catch","error","alert","linesDiscovery","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","sent","_x","apply","this","arguments","estimatedTimetable","VehicleModeFilter","_useContext","useContext","handleChange","event","target","FormLabel","component","FormControlLabel","control","Checkbox","onChange","color","label","LineSelection","_useContext$state","options","filter","find","element","selectStyles","menu","styles","zIndex","react_select_browser_esm","selected","StopSelection","select","DateSelection","Grid","container","justify","spacing","key","item","xs","material_ui_pickers_esm","utils","DateFnsUtils","locale","id","ampm","variant","Button","onClick","Date","index_es","icon","faUndo","withRouter","history","Timer","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","dateUpdate","setState","visibleDate","calculate","diff","moment","finishedText","utc","format","intervalId","setInterval","clearInterval","Component","Results","search","print","download","viewColumns","selectableRows","rowsPerPage","customFooter","count","page","changeRowsPerPage","changePage","TableFooter","result","StopSearch_Timer","dist_default","title","columns","withTheme","faSpinner","pulse","size","theme","palette","primary","main","stopMonitoring","useStyles","makeStyles","root","padding","classes","useEffect","MonitoringRef","StartTime","MaximumStopVisits","Paper","className","StopSearch_VehicleModeFilter","StopSearch_DateSelection","StopSearch_LineSelection","StopSearch_StopSelection","style","textAlign","SearchButton","StopSearch_Loading","StopSearch_Results","ctsTheme","createMuiTheme","StopSearchPage","StopSearch_Form","StopSearch","StopSearchInitialState","ThemeProvider","stopSearchProvider_StopSearchProvider","StopSearch_StopSearchPage","App","react_router_dom","basename","process","react_router","exact","path","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8701f1ca.chunk.js","sourcesContent":["let loading = false;\n\nconst stopSearchReducer = (state, action) => {\n  switch (action.type) {\n    // Action : setLines\n    case 'setLines':\n      loading = true;\n      let lines = action.data.LinesDelivery.AnnotatedLineRef.map((line) => {\n        return {\n          LineRef: line.LineRef,\n          LineName: line.LineName,\n          RouteType: line.Extension.RouteType\n        }\n      });\n\n      if (state.stops.length > 0) {\n        loading = false;\n      }\n\n      return {\n        ...state,\n        lines: lines,\n        loading: loading\n      };\n\n    // Action : setStops\n    case 'setStops':\n      loading = true;\n      let stops = [];\n      let stopsIds = {};\n\n      action.data.ServiceDelivery.EstimatedTimetableDelivery.map((Etd) => {\n        Etd.EstimatedJourneyVersionFrame.map((Ejvf) => {\n          Ejvf.EstimatedVehicleJourney.map((Evj) => {\n            let LineRef       = Evj.LineRef;\n            let DirectionRef  = Evj.DirectionRef;\n            let VehicleMode   = Evj.Extension.VehicleMode;\n\n            Evj.EstimatedCalls.map((Ec) => {\n              if (stopsIds[Ec.StopPointRef]) {\n                return false;\n              }\n\n              stops.push({\n                LineRef: LineRef,\n                DirectionRef: DirectionRef,\n                StopPointRef: Ec.StopPointRef,\n                StopPointName: Ec.StopPointName,\n                DestinationName: Ec.DestinationName,\n                VehicleMode: VehicleMode\n              });\n\n              stopsIds[Ec.StopPointRef] = true;\n\n              return false;\n            });\n\n            return false;\n          });\n          return false;\n        });\n        return false;\n      });\n\n      if (state.lines.length > 0) {\n        loading = false;\n      }\n\n      return {\n        ...state,\n        stops: stops,\n        loading: loading\n      };\n\n    // Action : VehicleModeFilter\n    case 'VehicleModeFilter':\n      let VehicleMode = state.VehicleMode;\n      VehicleMode[action.data.mode] = action.data.checked;\n\n      return {\n        ...state,\n        VehicleMode: VehicleMode\n      }\n\n    // Action : LineSelection\n    case 'LineSelection':\n      return {\n        ...state,\n        line: action.data.line\n      }\n\n    // Action : StopSelection\n    case 'StopSelection':\n      return {\n        ...state,\n        stop: action.data.stop\n      }\n\n    // Action : DateSelection\n    case 'DateSelection':\n      return {\n        ...state,\n        date: action.data.date\n      }\n\n    // Action : Search\n    case 'Search':\n      let results = [];\n\n      if (typeof(action.data.ServiceDelivery.StopMonitoringDelivery[0].MonitoredStopVisit) === 'undefined') {\n        return {\n          ...state,\n          results: results\n        }\n      }\n\n      action.data.ServiceDelivery.StopMonitoringDelivery[0].MonitoredStopVisit.map((visit) => {\n        let journey = visit.MonitoredVehicleJourney;\n        let call = journey.MonitoredCall;\n\n        results.push({\n          DestinationName: journey.DestinationName,\n          LineRef: journey.LineRef,\n          VehicleMode: journey.VehicleMode,\n          IsRealTime: call.Extension.IsRealTime,\n          StopPointName: call.StopPointName,\n          ExpectedArrivalTime: call.ExpectedArrivalTime,\n          ExpectedDepartureTime: call.ExpectedDepartureTime\n        });\n\n        return false;\n      });\n\n      return {\n        ...state,\n        results: results,\n        loading: false\n      }\n\n    // Action : maxStopArrivalsSelection\n    case 'maxStopArrivalsSelection':\n      return {\n        ...state,\n        maxStopArrivals: action.data.maxStopArrivals\n      }\n\n    // Action : Loading\n    case 'loading':\n      return {\n        ...state,\n        loading: true\n      }\n\n    // Action routeParams : load's parameters from route\n    case 'routeParams':\n      if (action.data.match.params.stop !== undefined) {\n        return {\n          ...state,\n          VehicleMode: {\n            bus: JSON.parse(action.data.match.params.bus),\n            tram: JSON.parse(action.data.match.params.tram)\n          },\n          line: action.data.match.params.line,\n          stop: action.data.match.params.stop\n        }\n      } else {\n        return {\n          ...state\n        }\n      }\n\n    // loadResult : Load results from route parameters\n    case 'loadResult':\n        if (action.data.match.params.stop !== undefined) {\n          action.data.load(action.data.match.params.stop, action.data.match.params.line, state.date, state.maxStopArrivals);\n        }\n\n        return {\n          ...state\n        }\n\n    // Action : default\n    default:\n      throw new Error();\n  }\n};\n\nexport { stopSearchReducer };\n","import React, { createContext, useReducer } from \"react\";\nimport { stopSearchReducer } from \"../reducers/stopSearchReducer\";\n\nconst StopSearchContext = createContext({});\n\nconst StopSearchProvider = ({ children, initialState }) => {\n  const [state, dispatch] = useReducer(stopSearchReducer, initialState);\n  const context = { state, dispatch };\n  return (\n    <StopSearchContext.Provider value={context}>{children}</StopSearchContext.Provider>\n  );\n};\n\nexport { StopSearchContext, StopSearchProvider };","import axios from 'axios';\n\nvar token     = '27fc0b07-5e85-41de-a749-338e1a00e4e8';\nvar apiUrl   = 'https://api.cts-strasbourg.eu/v1/siri/2.0/';\n\nconst api = axios.create({\n  baseURL: apiUrl,\n});\n\nconst client = (route, params) => (\n  api.get(route, {\n    params: params.params,\n    auth: {\n      username: token\n    }\n  }).then((res) => {\n    let data = res.data;\n    params.dispatch({type: params.type, data: data})\n  }).catch(function (error) {\n    alert(error);\n  })\n);\n\nexport default client;","import client from './client';\n\nconst linesDiscovery = async (params) => (\n  await client('lines-discovery', params)\n);\n\nexport default linesDiscovery;","import client from './client';\n\nconst estimatedTimetable = async (params) => (\n  await client('estimated-timetable', params)\n);\n\nexport default estimatedTimetable;","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport { FormControlLabel, FormLabel, Checkbox } from '@material-ui/core';\n\nconst VehicleModeFilter = () => {\n  const { state: { VehicleMode }, dispatch } = useContext(StopSearchContext);\n\n  const handleChange = mode => event => {\n    dispatch({type: 'VehicleModeFilter', data: {mode: mode, checked: event.target.checked}});\n  };\n\n  return (\n    <div>\n      <FormLabel component=\"legend\">Type de transport</FormLabel>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={VehicleMode.bus}\n            onChange={handleChange('bus')}\n            value=\"bus\"\n            color=\"primary\"\n          />\n        }\n        label=\"Bus\"\n      />\n\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={VehicleMode.tram}\n            onChange={handleChange('tram')}\n            value=\"tram\"\n            color=\"primary\"\n          />\n        }\n        label=\"Tram\"\n      />\n    </div>\n  );\n}\n\nexport default VehicleModeFilter;\n","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport Select from 'react-select';\nimport { FormLabel } from '@material-ui/core';\n\nconst LineSelection = () => {\n  const { state: { lines, line, VehicleMode }, dispatch } = useContext(StopSearchContext);\n\n  const options = lines.filter((line) => {\n    if (VehicleMode[line.RouteType]) {\n      return true;\n    }\n    return false;\n  }).map(line => ({\n    value: line.LineRef,\n    label: line.RouteType+' '+line.LineRef+ ' - '+line.LineName\n  }));\n\n  const value = options.find(element => {\n    return element.value === line;\n  });\n\n  const handleChange = selected => {\n    dispatch({type: 'LineSelection', data: {line: selected.value}});\n  };\n\n  const selectStyles = { menu: styles => ({ ...styles, zIndex: 999 }) };\n\n  return (\n    <div>\n      <FormLabel component=\"legend\">Ligne</FormLabel>\n      <Select\n        value={value}\n        onChange={handleChange}\n        options={options}\n        styles={selectStyles}\n      />\n    </div>\n  );\n}\n\nexport default LineSelection;\n","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport Select from 'react-select';\nimport { FormLabel } from '@material-ui/core';\n\nconst StopSelection = () => {\n  const { state: { stops, stop, line }, dispatch } = useContext(StopSearchContext);\n\n  const options = stops.filter((stop) => {\n    if (stop.LineRef === line) {\n      return true;\n    }\n    return false;\n  }).map(stop => ({\n    value: stop.StopPointRef,\n    label: stop.VehicleMode+' '+stop.LineRef+' - '+stop.StopPointName+ ' => '+stop.DestinationName\n  }));\n\n  const value = options.find(element => {\n    return element.value === stop;\n  });\n\n  const handleChange = selected => {\n    dispatch({type: 'StopSelection', data: {stop: selected.value}});\n  };\n\n  const selectStyles = { menu: styles => ({ ...styles, zIndex: 999 }) };\n\n  let select = '';\n  if (options.length > 0) {\n    select =\n      <div>\n        <FormLabel component=\"legend\">Arrêt</FormLabel>\n        <Select\n          value={value}\n          onChange={handleChange}\n          options={options}\n          styles={selectStyles}\n        />\n      </div>\n  }\n\n  return (\n    <div>\n      {select}\n    </div>\n  );\n}\n\nexport default StopSelection;\n","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport { FormLabel } from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\nimport locale from 'date-fns/locale/fr';\nimport {\n  MuiPickersUtilsProvider,\n  TimePicker\n} from '@material-ui/pickers';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUndo } from '@fortawesome/free-solid-svg-icons';\n\nconst DateSelection = () => {\n  const { state: { date, stop }, dispatch } = useContext(StopSearchContext);\n\n  const handleChange = date => {\n    dispatch({type: 'DateSelection', data: {date: date}});\n  };\n\n  const handleReset = () => {\n    dispatch({type: 'DateSelection', data: {date: new Date()}});\n  }\n\n  if (stop === null) {\n    return <div></div>;\n  }\n\n  return (\n    <div>\n      <FormLabel component=\"legend\">Horaire</FormLabel>\n      <Grid container justify=\"center\" spacing={2}>\n        <Grid key='MuiPickersUtilsProvider' item xs={6}>\n          <MuiPickersUtilsProvider utils={DateFnsUtils} locale={locale}>\n            <TimePicker\n              id=\"mui-pickers-time\"\n              ampm={false}\n              variant=\"inline\"\n              value={date}\n              onChange={handleChange}\n            />\n          </MuiPickersUtilsProvider>\n        </Grid>\n        <Grid key='button' item xs={6}>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleReset}>\n            <FontAwesomeIcon icon={faUndo} />\n          </Button>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default DateSelection;\n","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport Button from '@material-ui/core/Button';\nimport { withRouter } from 'react-router-dom';\n\nconst DateSelection = ( {history} ) => {\n  const { state: { stop, line, VehicleMode }, dispatch } = useContext(StopSearchContext);\n\n  const handleChange = () => {\n    dispatch({type: 'loading'});\n\n    history.push('/'+VehicleMode.bus+'/'+VehicleMode.tram+'/'+line+'/'+stop);\n  };\n\n  if (stop === null) {\n    return <div></div>;\n  }\n\n  return (\n    <Button variant=\"contained\" color=\"primary\" onClick={handleChange}>\n      Rechercher\n    </Button>\n  );\n}\n\nexport default withRouter(DateSelection);\n","import React, { Component } from 'react';\nimport moment from 'moment';\n\nclass Timer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.date = moment(props.date);\n    this.intervalId = null;\n\n    this.state = {\n      visibleDate: this.calculate()\n    };\n  }\n\n  dateUpdate = () => {\n    this.setState({\n      visibleDate: this.calculate()\n    });\n  }\n\n  calculate = () => {\n    let diff = this.date.diff(moment());\n    if (diff < 0) {\n      return this.props.finishedText;\n    }\n    return moment.utc(diff).format(\"HH:mm:ss\");\n  }\n\n  componentDidUpdate() {\n    this.date = moment(this.props.date);\n  }\n\n  componentDidMount() {\n    this.intervalId = setInterval(this.dateUpdate, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.visibleDate}\n      </div>\n    );\n  }\n}\n\nexport default Timer;\n","import React, { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\nimport MUIDataTable from \"mui-datatables\";\nimport TableFooter from \"@material-ui/core/TableFooter\";\nimport moment from 'moment';\n\nimport Timer from \"./Timer\";\n\nconst Results = () => {\n  const { state: { results, stop } } = useContext(StopSearchContext);\n\n  const options = {\n    filter: false,\n    search: false,\n    print: false,\n    download: false,\n    viewColumns: false,\n    selectableRows: 'none',\n    rowsPerPage: 100,\n    customFooter: (\n      count,\n      page,\n      rowsPerPage,\n      changeRowsPerPage,\n      changePage\n    ) => {\n      return <TableFooter></TableFooter>;\n    }\n  };\n\n  const columns = [\n    \"Ligne\",\n    \"Arrêt\",\n    \"Destination\",\n    \"Temps réel\",\n    \"Arrivée\",\n    \"Départ\",\n    \"Arrivée dans\",\n    \"Départ dans\"\n  ];\n\n  const data = results.map((result) => {\n    let element = [\n      result.VehicleMode+' '+result.LineRef,\n      result.StopPointName,\n      result.DestinationName,\n      result.IsRealTime === true ? \"Oui\" : \"Non\",\n      moment(result.ExpectedArrivalTime).format('DD/MM/YYYY HH:mm:ss'),\n      moment(result.ExpectedDepartureTime).format('DD/MM/YYYY HH:mm:ss'),\n      <Timer date={result.ExpectedArrivalTime} finishedText=\"Arrivé\" />,\n      <Timer date={result.ExpectedDepartureTime} finishedText=\"Passé\" />\n      //moment.utc(moment(result.ExpectedArrivalTime).diff(moment())).format(\"HH:mm:ss\")\n    ];\n\n    return element;\n  });\n\n  if (results.length === 0) {\n    if (stop != null) {\n      return <div>Pas de résultat.</div>;\n    }\n    return <div></div>;\n  }\n\n  return (\n    <div>\n      <br />\n      <MUIDataTable\n        title={\"Liste des horaires\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </div>\n  );\n}\n\nexport default Results;\n","import React,  { useContext } from 'react';\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport { withTheme } from '@material-ui/styles';\n\nconst Loading = (props) => {\n  const { state: { loading } } = useContext(StopSearchContext);\n\n  if (!loading) {\n    return <div></div>\n  }\n\n  return (\n    <FontAwesomeIcon icon={faSpinner} pulse size=\"4x\" color={props.theme.palette.primary.main} />\n  );\n}\n\nexport default withTheme(Loading);\n","import client from './client';\n\nconst stopMonitoring = async (params) => (\n  await client('stop-monitoring', params)\n);\n\nexport default stopMonitoring;","import React, {useContext, useEffect} from 'react';\n\nimport VehicleModeFilter from './VehicleModeFilter';\nimport LineSelection from './LineSelection';\nimport StopSelection from './StopSelection';\nimport DateSelection from './DateSelection';\nimport SearchButton from './SearchButton';\nimport Results from './Results';\nimport Loading from './Loading';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\n\nimport { StopSearchContext } from '../../providers/stopSearchProvider';\n\nimport stopMonitoring from '../../services/stopMonitoring';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n}));\n\nconst Form = ( {match} ) => {\n  const classes = useStyles();\n  const { dispatch } = useContext(StopSearchContext);\n\n  useEffect(() => {\n    dispatch({type: 'routeParams', data: {match: match}});\n\n    dispatch({type: 'loadResult', data: {\n      match: match,\n      load: (stop, line, date, maxStopArrivals) => {\n        stopMonitoring({\n          dispatch: dispatch,\n          type: 'Search',\n          params: {\n            MonitoringRef: stop,\n            LineRef: line,\n            StartTime: date,\n            MaximumStopVisits: maxStopArrivals\n          }\n        });\n      }\n    }});\n  }, [dispatch, match]);\n\n  return (\n    <Paper className={classes.root}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Grid container justify=\"center\" spacing={2}>\n            <Grid key='VehicleModeFilter' item xs={6}>\n              <VehicleModeFilter />\n            </Grid>\n            <Grid key='DateSelection' item xs={6}>\n              <DateSelection />\n            </Grid>\n          </Grid>\n          <Grid container justify=\"center\" spacing={2}>\n            <Grid key='LineSelection' item xs={12}>\n              <LineSelection />\n            </Grid>\n          </Grid>\n          <Grid container justify=\"center\" spacing={2}>\n            <Grid key='LineSelection' item xs={12}>\n              <StopSelection />\n            </Grid>\n          </Grid>\n          <Grid container justify=\"center\" spacing={2}>\n            <Grid key='LineSelection' item xs={12} style={{textAlign: \"center\"}}>\n              <SearchButton />\n            </Grid>\n          </Grid>\n          <Grid container justify=\"center\" spacing={2}>\n            <Grid key='LineSelection' item xs={12} style={{textAlign: \"center\"}}>\n              <Loading />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Results />\n    </Paper>\n  );\n}\n\n\nexport default withRouter(Form);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst ctsTheme = createMuiTheme({});\n\nexport default ctsTheme;","import React, { useContext, useEffect } from 'react';\nimport { StopSearchContext, StopSearchProvider } from '../providers/stopSearchProvider';\nimport linesDiscovery from '../services/linesDiscovery';\nimport estimatedTimetable from '../services/estimatedTimetable';\n\nimport Form from './StopSearch/Form';\n\nimport ctsTheme from '../themes/ctsTheme';\n\nimport { ThemeProvider } from '@material-ui/styles';\n\nconst StopSearchPage = () => {\n  const { dispatch } = useContext(StopSearchContext);\n\n  useEffect(() => {\n    dispatch({type: 'loading'});\n\n    linesDiscovery({\n      dispatch: dispatch,\n      type: 'setLines',\n      params: {}\n    });\n\n    estimatedTimetable({\n      dispatch: dispatch,\n      type: 'setStops',\n      params: {}\n    });\n  }, [dispatch]);\n\n  return (\n    <Form />\n  );\n}\n\nconst StopSearch = () => {\n  const StopSearchInitialState = {\n    lines: [],\n    stops: [],\n    VehicleMode: {\n      bus: true,\n      tram: true\n    },\n    line: null,\n    stop: null,\n    date: new Date(),\n    results: [],\n    maxStopArrivals: 5,\n    loading: false\n  };\n\n  return (\n    <ThemeProvider theme={ctsTheme}>\n      <StopSearchProvider initialState={StopSearchInitialState}>\n        <StopSearchPage />\n      </StopSearchProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default StopSearch;\n","import React from 'react';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport StopSearch from './pages/StopSearch';\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Route exact path='/:bus?/:tram?/:line?/:stop?' component={StopSearch} />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}